FROM alpine:latest

RUN mkdir -p /app
RUN mkdir -p /app/data

WORKDIR /app/data
COPY /dist/supervisor /app

ARG HTTP_ALLOWED_ORIGIN=*
ARG HTTP_ENABLE_GRAPHIQL=true
ARG AUTHENTICATION_HASH_COST=16
ARG AUTHENTICATION_TOKEN_SIZE=128
ARG AUTHENTICATION_SESSION_DURATION=12
ARG LOGGER_MODE=info
ARG LOGGER_SYNC_ACTIVE=true
ARG LOGGER_LOG_RETENTION=168
ARG LOGGER_CHECK_INTERVAL=6

CMD ["/app/supervisor"]